# № Отчет по лабораторной работе №4
## по курсу "Логическое программирование"

## Обработка естественного языка

### студент: Аксенов А.Е.

## Результат проверки

| Преподаватель     | Дата         |  Оценка       |
|-------------------|--------------|---------------|
| Сошников Д.В. |              |               |
| Левинская М.А.|              |               |

## Введение
Для обработки естественного или искусственного языков необходимо задать его грамматику. Грамматика позволяет определить структуру языка, его составные части и их взаимосвязи. Грамматика упрощает написание программы, так как она логически разбивается на отдельные подпрограммы для обработки конкретных элементов структуры языка.

Правила грамматики легко отображаются на предикаты Пролога. Поэтому логические языки являются оптимальными для решения таких задач.

Задание
1. Генеалогическое дерево задано фактами вида

```prolog
parent(alexei,tolia).
parent(alexei,volodia).
parent(tolia,tima).
...
```

Написать программу на Прологе, запросы к которой будут выглядеть следующим образом:
Запросы:

```prolog
?- answer([volodia, brat , toli, ‘?’],X).
?- answer([kto, tolin, brat, ‘?’],X).
?- answer([chei, brat, volodia, ‘?’],X).
```
Результаты:    

```prolog
X=yes, X=volodia, X=tolia.
```

## Принцип решения
Зададим грамматику для языка вопросов. Всего есть четыре вида вопроса:
1) *именительный падеж* брат *родительный падеж* ?
2) Кто *притяжательная форма* брат ?
3) Чей брат *именительный падеж* ?
4) Кто брат *родительный падеж* ?

Обозначим `IP` -- именительный падеж, `RP` -- родительный падеж, `PP` -- придаточная форма, `Q` -- вопрос.
Тогда грамматику языка вопросов можно описать следующим образом:

```prolog
Q = IP 'brat' RP '?'
Q = 'kto' PP 'brat' '?'
Q = 'chei' 'brat' IP '?'
Q = 'kto' 'brat' RP '?'
```

Для родительного падежа и придаточной формы введём контекст.

```prolog
%родительный
context(alexei, 'rod', alexeia).
context(tolia, 'rod', toli).
context(volodia, 'rod', volodi).
context(dima, 'rod', dimi).
context(tima, 'rod', timi).
%притяжательный
context(alexei, 'prit', alexein).
context(tolia, 'prit', tolin).
context(volodia, 'prit', volodin).
context(dima, 'prit', dimin).
context(tima, 'prit', timin).
```

Отношение брат описывается следующим предикатом:

```prolog
brother(X,Y) :- parent(Z,X), parent(Z,Y), X\=Y.
```

Чтобы получать yes/no, введём дополнительный предикат.

```prolog
brotherYN(X, Y, yes) :- brother(X, Y), !.
brotherYN(_, _, no).
```

Реализуем предикат, отвечающий на все 4 вида вопросов:

```prolog
answer([X, brat, Y, '?'], Z) :-
    context(Y1, 'rod', Y), brotherYN(X, Y1, Z).

answer([kto, X, brat, '?'], Y) :-
    context(X1, 'prit', X), brother(X1, Y).

answer([chei, brat, X, '?'], Y) :-
    brother(X, Y).

answer([kto, brat, X, '?'], Y) :-
    context(X1, 'rod', X), brother(X1, Y).
```

Результаты

```prolog
?- answer([volodia, brat , toli, ‘?’],X).
X = yes.

?- answer([kto, tolin, brat, ‘?’],X).
X = volodia;
X = dima;
false.

?- answer([chei, brat, volodia, ‘?’],X).
X = tolia;
X = dima;
false.
```

## Выводы
Как и ожидалось, язык вопросов был реализован в полной мере с помощью предикатов Пролога, так как данный язык легко описывается грамматикой с небольшим числом несложных правил.

Составление такой программы, обработка и дальнейшая ее модернизация в разы проще, чем на императивных языках, так как в Прологе для увеличения функционала программы достаточно добавить очередное правило проверки списка.
